<!doctype html>
<html>

<head>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <script src='Court.js'></script>
    <script src='helper.js'></script>
    <script src='makeShotChart.js'></script>
    <script src='makeLineChart.js'></script>
    <meta charset="utf-8">
    <title>Final Project</title>
</head>

<body>
    <div id="left-container"></div>
    <div id="right-container">
        <div id="top">
        </div>
        <div id="bottom">
        </div>
    </div>
    <script>
        // Test d3 was loaded
        console.log(d3);

        var WIDTH = 505;
        var HEIGHT = 475;

        //Make the Court SVG
        var courtSVG = d3.select("#top")
            .append("svg")
            .attr("id", "courtSVG")
            .attr("width", WIDTH - 5)
            .attr("height", HEIGHT);
        // Adjust the size of the SVG to make the court and append g
        courtSVG.attr('width', o.width)
            .attr('viewBox', "0 0 " + o.courtWidth + " " + o.visibleCourtLength)
            .append('g')
            .attr('class', 'shot-chart-court')

        var lineSVG = d3.select('#top')
            .append("svg")
            .attr("id", "lineSVG")
            .attr("width", WIDTH)
            .attr("height", HEIGHT);

        // Load the CSV
        d3.csv("../Resources/James Harden.csv").then(function(data, error) {
            if (error) {
                throw error;
            }
            data.forEach(function(d) {
                // Print out every line in csv to console
                // console.log(d);

                //Store the data
                d.distance = d.SHOT_DISTANCE;
                d.x = d.LOC_X;
                d.y = d.LOC_Y;
                d.made = d.SHOT_MADE_FLAG;
            });


            makeShotChart(courtSVG, data, 7);
            makeLineChart(lineSVG, data);

        });
    </script>
</body>

</html>
